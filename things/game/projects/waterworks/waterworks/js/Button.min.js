class Button{constructor(g,image,image_hover,atlas,clickaction){_defineProperty(this,"changeTextures",(image,image_hover,atlas)=>{this.atlas=atlas,this.image=image,this.image_hover=image_hover,this.button.setTexture(atlas,image),this.hover.setTexture(atlas,image_hover),this.autoPosition()}),_defineProperty(this,"resetListeners",()=>{this.hover.removeAllListeners(),this.hover.on("pointerover",this.defaultPointerOver),this.hover.on("pointerout",this.defaultPointerOut),this.hover.on("pointerdown",this.defaultPointerDown)}),_defineProperty(this,"autoPosition",()=>{var tex=this.phaser.textures.get(this.atlas);this.button.setOrigin(0),this.hover.setOrigin(0),this.button.x=tex.frames[this.image].customData.spriteSourceSize.x,this.button.y=tex.frames[this.image].customData.spriteSourceSize.y,this.hover.x=tex.frames[this.image_hover].customData.spriteSourceSize.x,this.hover.y=tex.frames[this.image_hover].customData.spriteSourceSize.y}),_defineProperty(this,"defaultPointerOver",pointer=>{this.phaser.tweens.add({targets:[this.hover],alpha:1,ease:"Cubic.Out",duration:200}),""!=this.tooltip&&this.game.showTooltip(this.tooltip),this.hoverSound.play()}),_defineProperty(this,"defaultPointerOut",pointer=>{this.phaser.tweens.add({targets:[this.hover],alpha:.01,ease:"Cubic.Out",duration:200}),this.game.hideTooltip&&this.game.hideTooltip()}),_defineProperty(this,"defaultPointerDown",pointer=>{1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(this.clickaction(pointer),this.game.hideTooltip&&this.game.hideTooltip(),this.clickSound.play())}),_defineProperty(this,"setVisible",value=>{this.button.visible=value,this.hover.visible=value}),_defineProperty(this,"setPosition",(x,y)=>{this.button.x=x,this.hover.x=x,this.button.y=y,this.hover.y=y}),_defineProperty(this,"getContent",()=>[this.button,this.hover]),this.game=g,this.phaser=this.game.phaser;var self=this;this.clickaction=clickaction,this.tooltip="",this.previouslyEnabled,this.atlas=atlas,this.image=image,this.image_hover=image_hover,this.button=this.phaser.add.sprite(0,0,atlas,image),this.hover=this.phaser.add.image(0,0,atlas,image_hover),this.button.setDepth(LAYER_DRAWER_CLOSED),this.hover.setDepth(LAYER_DRAWER_OPEN),this.clickSound=this.phaser.sound.add("click"),this.hoverSound=this.phaser.sound.add("ui_hover"),this.hover.setInteractive({cursor:"pointer"}),this.hover.input.useHandCursor=!0,this.hover.alpha=.01,this.hover.on("pointerover",this.defaultPointerOver),this.hover.on("pointerout",this.defaultPointerOut),this.hover.on("pointerdown",this.defaultPointerDown)}}