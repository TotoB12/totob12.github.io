class MainMenu{constructor(g,type){_defineProperty(this,"optionsClick",()=>{this.game.options.show()}),_defineProperty(this,"achievementsClick",()=>{this.showAchievements()}),_defineProperty(this,"creditsClick",()=>{this.showCredits()}),_defineProperty(this,"newGameClick",()=>{var checkSave=null;isLocalStorage()&&(checkSave=localStorage.getItem("scriptwelder_waterworks_save")),null!=checkSave?this.game.popup.show(getString(this.game.language,"popup","restart_game","header"),getString(this.game.language,"popup","restart_game","string"),this.showDiffSelection,this.nothing):this.showDiffSelection()}),_defineProperty(this,"continueClick",()=>{this.loadGame()}),_defineProperty(this,"initBackground",background=>{background.x=GAME_WIDTH/2,background.y=GAME_HEIGHT/2,background.setInteractive({})}),_defineProperty(this,"nothing",()=>{}),_defineProperty(this,"restartGame",()=>{this.hide(),this.game.newGame(),this.game.hideTooltip()}),_defineProperty(this,"loadGame",()=>{this.game.loadGame(),this.hide()}),_defineProperty(this,"setAchievIcon",(achiev,txt,unlocked)=>{var t="0";unlocked&&(t="1"),achiev.setTexture("achievs",setCharAt(achiev.frame.name,achiev.frame.name.length-1,t)),0==unlocked?txt.setFont("text_gray"):txt.setFont("text_black")}),_defineProperty(this,"updateLanguage",()=>{var checkSave=null;isLocalStorage()&&(checkSave=localStorage.getItem("scriptwelder_waterworks_save")),this.diffHeader.text=getString(this.game.language,"gui","diff_header","string"),this.btnEasy.text=getString(this.game.language,"gui","diff_easy","string"),this.btnNormal.text=getString(this.game.language,"gui","diff_normal","string"),this.btnHard.text=getString(this.game.language,"gui","diff_hard","string"),this.btnHard2.text=getString(this.game.language,"gui","diff_hard2","string"),this.btnDiffBack.text=getString(this.game.language,"gui","diff_back","string"),this.ach_hermans_txt.text=getString(this.game.language,"gui","achiev_hermans","string"),this.ach_trynka_txt.text=getString(this.game.language,"gui","achiev_trynka","string"),this.ach_s1_txt.text=getString(this.game.language,"gui","achiev_s1","string"),this.ach_s2_txt.text=getString(this.game.language,"gui","achiev_s2","string"),this.ach_s3_txt.text=getString(this.game.language,"gui","achiev_s3","string"),this.ach_coins_txt.text=getString(this.game.language,"gui","achiev_coins","string"),0==this.game.ach_coins&&(this.ach_coins_txt.text+="\n"+getString(this.game.language,"gui","achiev_progress","string")+": "+this.game.ach_coins_count+"/"+ACH_COINS_TO_COLLECT),this.ach_fortune_txt.text=getString(this.game.language,"gui","achiev_fortune","string"),this.ach_requests_txt.text=getString(this.game.language,"gui","achiev_requests","string"),0==this.game.ach_requests&&(this.ach_requests_txt.text+="\n"+getString(this.game.language,"gui","achiev_progress","string")+": "+this.game.ach_requests_count+"/"+ACH_REQUESTS_TO_MAKE),this.ach_time_txt.text=getString(this.game.language,"gui","achiev_time","string"),this.ach_well_txt.text=getString(this.game.language,"gui","achiev_well","string"),"en"==this.game.language.toLowerCase()?(this.btnLEn.button.setTexture("lang","en1"),this.btnLPl.button.setTexture("lang","pl0")):(this.btnLEn.button.setTexture("lang","en0"),this.btnLPl.button.setTexture("lang","pl1")),this.text_privacy.text=getString(this.game.language,"gui","privacy_policy","string"),this.setAchievIcon(this.ach_coins,this.ach_coins_txt,this.game.ach_coins),this.setAchievIcon(this.ach_fortune,this.ach_fortune_txt,this.game.ach_fortune),this.setAchievIcon(this.ach_hermans,this.ach_hermans_txt,this.game.ach_hermans),this.setAchievIcon(this.ach_requests,this.ach_requests_txt,this.game.ach_requests),this.setAchievIcon(this.ach_s1,this.ach_s1_txt,this.game.ach_s1),this.setAchievIcon(this.ach_s2,this.ach_s2_txt,this.game.ach_s2),this.setAchievIcon(this.ach_s3,this.ach_s3_txt,this.game.ach_s3),this.setAchievIcon(this.ach_time,this.ach_time_txt,this.game.ach_time),this.setAchievIcon(this.ach_trynka,this.ach_trynka_txt,this.game.ach_trynka),this.setAchievIcon(this.ach_well,this.ach_well_txt,this.game.ach_well),this.center(this.diffHeader),this.positionButton(this.btnEasy,null,0),this.positionButton(this.btnNormal,null,0),this.positionButton(this.btnHard,null,0),this.positionButton(this.btnHard2,null,0),this.positionButton(this.btnDiffBack,null,0),this.btnOptions.changeTextures("options1_"+this.game.language.toLowerCase(),"options2_"+this.game.language.toLowerCase(),"menu"),this.btnLoad.changeTextures("continue1_"+this.game.language.toLowerCase(),"continue2_"+this.game.language.toLowerCase(),"menu"),this.btnNewGame.changeTextures("newgame1_"+this.game.language.toLowerCase(),"newgame2_"+this.game.language.toLowerCase(),"menu"),this.btnCredits.changeTextures("credits1_"+this.game.language.toLowerCase(),"credits2_"+this.game.language.toLowerCase(),"menu"),this.btnAchievements.changeTextures("achievements1_"+this.game.language.toLowerCase(),"achievements2_"+this.game.language.toLowerCase(),"menu");for(var i=1;i<=7;i++)this.credits_txt[i-1].text=getString(this.game.language,"credits","credits_"+i,"string");if(null==checkSave)try{var sO=localStorage.getItem("save");sO&&null!=(sO=JSON.parse(sO)).columnWellPower&&(localStorage.removeItem("save"),localStorage.setItem("scriptwelder_waterworks_save",JSON.stringify(sO)))}catch(error){console.warn(error)}null==checkSave?this.btnLoad.setVisible(!1):this.btnLoad.setVisible(!0)}),_defineProperty(this,"saveState",()=>{var saveObject=new Object;if(saveObject.easyComplete=this.game.easyComplete,saveObject.normalComplete=this.game.normalComplete,saveObject.hardComplete=this.game.hardComplete,saveObject.hard2Complete=this.game.hard2Complete,saveObject.ach_coins=this.game.ach_coins,saveObject.ach_fortune=this.game.ach_fortune,saveObject.ach_hermans=this.game.ach_hermans,saveObject.ach_requests=this.game.ach_requests,saveObject.ach_s1=this.game.ach_s1,saveObject.ach_s2=this.game.ach_s2,saveObject.ach_s3=this.game.ach_s3,saveObject.ach_time=this.game.ach_time,saveObject.ach_trynka=this.game.ach_trynka,saveObject.ach_well=this.game.ach_well,saveObject.ach_coins_count=this.game.ach_coins_count,saveObject.ach_requests_count=this.game.ach_requests_count,0!=isLocalStorage())try{localStorage.setItem("scriptwelder_waterworks_state",JSON.stringify(saveObject))}catch{}}),_defineProperty(this,"loadState",()=>{if(this.game.easyComplete=!1,this.game.normalComplete=!1,this.game.hardComplete=!1,this.game.hard2Complete=!1,0!=isLocalStorage()){var saveObject;try{saveObject=localStorage.getItem("scriptwelder_waterworks_state")}catch{}if(saveObject)saveObject=JSON.parse(saveObject),this.game.easyComplete=saveObject.easyComplete,this.game.normalComplete=saveObject.normalComplete,this.game.hardComplete=saveObject.hardComplete,this.game.hard2Complete=saveObject.hard2Complete,null!=saveObject.ach_coins&&(this.game.ach_coins=saveObject.ach_coins,this.game.ach_fortune=saveObject.ach_fortune,this.game.ach_hermans=saveObject.ach_hermans,this.game.ach_requests=saveObject.ach_requests,this.game.ach_s1=saveObject.ach_s1,this.game.ach_s2=saveObject.ach_s2,this.game.ach_s3=saveObject.ach_s3,this.game.ach_time=saveObject.ach_time,this.game.ach_trynka=saveObject.ach_trynka,this.game.ach_well=saveObject.ach_well),null!=saveObject.ach_coins_count&&(this.game.ach_coins_count=saveObject.ach_coins_count,this.game.ach_requests_count=saveObject.ach_requests_count);else try{(saveObject=localStorage.getItem("state"))&&(saveObject=JSON.parse(saveObject),this.game.easyComplete=saveObject.easyComplete,this.game.normalComplete=saveObject.normalComplete,this.game.hardComplete=saveObject.hardComplete,this.game.hard2Complete=saveObject.hard2Complete,null!=saveObject.ach_coins&&(this.game.ach_coins=saveObject.ach_coins,this.game.ach_fortune=saveObject.ach_fortune,this.game.ach_hermans=saveObject.ach_hermans,this.game.ach_requests=saveObject.ach_requests,this.game.ach_s1=saveObject.ach_s1,this.game.ach_s2=saveObject.ach_s2,this.game.ach_s3=saveObject.ach_s3,this.game.ach_time=saveObject.ach_time,this.game.ach_trynka=saveObject.ach_trynka,this.game.ach_well=saveObject.ach_well,localStorage.removeItem("state")),null!=saveObject.ach_coins_count&&(this.game.ach_coins_count=saveObject.ach_coins_count,this.game.ach_requests_count=saveObject.ach_requests_count,localStorage.removeItem("state")),localStorage.setItem("scriptwelder_waterworks_state",JSON.stringify(saveObject)))}catch(error){console.warn(error)}}}),_defineProperty(this,"showDiffSelection",()=>{this.disableMenuInteractive(),this.containerDifficulty.visible=!0,this.phaser.input.enabled=!1,this.game.showCurtain(.5,LAYER_GUI_MAIN+1),this.game.hideTooltip(),this.loadState(),0==this.game.normalComplete?(this.btnHard.alpha=.25,this.btnHard.tooltip="diff_hard_locked",this.btnHard.locked=!0):(this.btnHard.alpha=1,this.btnHard.tooltip="btn_dificulty_hard",this.btnHard.locked=!1),0==this.game.hardComplete?(this.btnHard2.alpha=.25,this.btnHard2.tooltip="diff_hard2_locked",this.btnHard2.locked=!0):(this.btnHard2.alpha=1,this.btnHard2.tooltip="btn_dificulty_hard2",this.btnHard2.locked=!1),this.phaser.tweens.add({targets:[this.containerDifficulty],ease:"Cubic.Out",y:0,alpha:1,duration:500,onComplete:function(){this.game.hideTooltip(),this.phaser.input.enabled=!0},onCompleteScope:this})}),_defineProperty(this,"backToMain2",()=>{this.phaser.tweens.add({targets:[this.containerDifficulty],y:GAME_HEIGHT,alpha:0,duration:500,ease:"Cubic.Out",onComplete:function(){this.containerDifficulty.visible=!1,this.enableMenuInteractive(),this.phaser.input.enabled=!0},onCompleteScope:this}),this.game.hideCurtain()}),_defineProperty(this,"backToMain",()=>{(null==this.game.curretMusic||this.game.curretMusic&&0==this.game.curretMusic.isPlaying)&&(this.game.curretMusic=this.game.music3,this.game.curretMusic.play({delay:.5})),this.phaser.tweens.add({targets:[this.containerCredits],y:-GAME_HEIGHT,duration:500,ease:"Cubic.Out",onComplete:function(){this.containerCredits.visible=!1,this.enableMenuInteractive()},onCompleteScope:this}),this.phaser.tweens.add({targets:[this.containerAchievements],y:-GAME_HEIGHT,duration:500,ease:"Cubic.Out",onComplete:function(){this.containerAchievements.visible=!1},onCompleteScope:this}),this.phaser.tweens.add({targets:[this.containerGameOver],alpha:0,duration:500,onComplete:function(){this.containerGameOver.visible=!1},onCompleteScope:this}),this.phaser.tweens.add({targets:[this.containerVictory],alpha:0,duration:500,onComplete:function(){this.containerVictory.visible=!1},onCompleteScope:this}),this.phaser.tweens.add({targets:[this.containerDifficulty],y:GAME_HEIGHT,alpha:0,duration:500,ease:"Cubic.Out",onComplete:function(){this.containerDifficulty.visible=!1},onCompleteScope:this}),this.game.hideCurtain()}),_defineProperty(this,"disableMenuInteractive",()=>{this.btnCredits.hover.input.enabled=!1,this.btnLoad.hover.input.enabled=!1,this.btnNewGame.hover.input.enabled=!1,this.btnOptions.hover.input.enabled=!1,this.btnAchievements.hover.input.enabled=!1}),_defineProperty(this,"enableMenuInteractive",()=>{this.btnCredits.hover.input.enabled=!0,this.btnLoad.hover.input.enabled=!0,this.btnNewGame.hover.input.enabled=!0,this.btnOptions.hover.input.enabled=!0,this.btnAchievements.hover.input.enabled=!0}),_defineProperty(this,"showCredits",()=>{this.disableMenuInteractive(),this.containerCredits.visible=!0,this.containerCredits.alpha=1,this.containerCredits.y=-GAME_HEIGHT,this.phaser.tweens.add({targets:[this.containerCredits],y:0,alpha:1,duration:500,ease:"Cubic.Out"}),this.containerCredits.add(this.btnBack.button),this.containerCredits.add(this.btnBack.hover)}),_defineProperty(this,"showAchievements",()=>{ng&&this.game.syncMedals(),this.disableMenuInteractive(),this.updateLanguage(),this.containerAchievements.visible=!0,this.containerAchievements.alpha=1,this.containerAchievements.y=-GAME_HEIGHT,this.phaser.tweens.add({targets:[this.containerAchievements],y:0,alpha:1,duration:500,ease:"Cubic.Out"}),this.containerAchievements.add(this.btnBack.button),this.containerAchievements.add(this.btnBack.hover)}),_defineProperty(this,"failSoundPlay",()=>{this.game.failsound.play()}),_defineProperty(this,"showGameOver",()=>{this.entry(),setTimeout(this.failSoundPlay,1e3),this.containerGameOver.visible=!0,this.containerGameOver.alpha=.01,this.phaser.tweens.add({targets:[this.containerGameOver],alpha:1,duration:500}),this.text_screen.visible=!0,this.containerGameOver.add(this.text_screen),this.containerGameOver.add(this.btnBack.button),this.containerGameOver.add(this.btnBack.hover),this.text_screen.x=330,this.text_screen.y=60,this.text_screen.setMaxWidth(256),this.text_screen.text=getString(this.game.language,"gui","game_over","string")}),_defineProperty(this,"fireworks",()=>{0!=this.containerVictory.visible&&(this.game.particles.explode(300,.35*GAME_WIDTH+Math.random()*GAME_WIDTH*.65,Math.random()*GAME_HEIGHT*.5),setTimeout(this.fireworks,1e3*Math.random()))}),_defineProperty(this,"showVictory",()=>{this.entry(),1==this.game.difficulty&&(this.game.easyComplete=!0),2==this.game.difficulty&&(this.game.normalComplete=!0),3==this.game.difficulty&&(this.game.hardComplete=!0),4==this.game.difficulty&&(this.game.hard2Complete=!0),this.game.difficulty>=2&&this.game.unlockAchievement("s1"),this.game.difficulty>=3&&this.game.unlockAchievement("s2"),this.game.difficulty>=4&&this.game.unlockAchievement("s3"),this.game.turn<=ACH_TIME_LIMIT&&this.game.unlockAchievement("time"),0==this.game.wellBuilt&&this.game.unlockAchievement("well"),this.saveState(),this.containerVictory.visible=!0,this.containerVictory.alpha=.01,this.phaser.tweens.add({targets:[this.containerVictory],alpha:1,duration:500}),this.text_screen.visible=!0,this.containerVictory.add(this.victory2),this.containerVictory.add(this.text_screen),this.containerVictory.add(this.btnBack.button),this.containerVictory.add(this.btnBack.hover),this.victory2.alpha=0,this.phaser.tweens.add({targets:[this.victory2],alpha:1,duration:7e3,ease:"Cubic.InOut",delay:500}),this.phaser.children.bringToTop(this.game.particles),this.phaser.tweens.add({targets:[this.victory2],x:this.victory2.x,duration:4e3,onComplete:function(){setTimeout(this.fireworks,1e3*Math.random())},onCompleteScope:this}),this.text_screen.x=30,this.text_screen.y=35,this.text_screen.setMaxWidth(140),this.text_screen.text=getString(this.game.language,"gui","victory","string"),this.text_screen.text+="\n\n"+getString(this.game.language,"tooltip","diff_level","string")+" ",1==this.game.difficulty&&(this.text_screen.text+=getString(this.game.language,"gui","diff_easy","string")),2==this.game.difficulty&&(this.text_screen.text+=getString(this.game.language,"gui","diff_normal","string")),3==this.game.difficulty&&(this.text_screen.text+=getString(this.game.language,"gui","diff_hard","string")),4==this.game.difficulty&&(this.text_screen.text+=getString(this.game.language,"gui","diff_hard2","string")),this.text_screen.text+="\n\n"+getString(this.game.language,"gui","victory","string2")+" "+this.game.turn}),_defineProperty(this,"disableTut",()=>{}),_defineProperty(this,"yesDisableTut",()=>{this.game.tutorial=100,this.game.options.tutorials=!1}),_defineProperty(this,"reenableDisableTut",()=>{}),_defineProperty(this,"noDisableTut",()=>{}),_defineProperty(this,"checkCookies",()=>{0==isLocalStorage()&&(this.game.popup.show(getString(this.game.language,"popup","no_cookies","header"),getString(this.game.language,"popup","no_cookies","string"),null,null),this.game.showCurtain(.5,LAYER_GUI_MAIN+1))}),_defineProperty(this,"entry",()=>{this.game.fireloopsound.stop(),setTimeout(this.game.hideCurtainSlow,500),setTimeout(this.checkCookies,1500),this.phaser.input.enabled=!0,this.game.currentMusic&&this.game.currentMusic.stop(),this.game.ambience1.stop(),this.game.isInOptions=!0,this.container.visible=!0,this.container.alpha=.01,this.phaser.tweens.add({targets:this.container,alpha:1,ease:"Cubic.InOut",duration:500})}),_defineProperty(this,"positionButton",(btn,slash,left)=>{btn.setInteractive({cursor:"pointer"}),btn.input.useHandCursor=!0;var TEXT_BUTTON_HITSIZE=1.5;0==left?this.center(btn):(btn.x=slash.x+slash.width/2+(slash.width+5)*left,-1==left&&(btn.x-=btn.width)),btn.input.hitArea.setSize(1.5*btn.width,1.5*btn.height),btn.input.hitArea.setPosition(-(1.5*btn.width-btn.width)/2,-(1.5*btn.height-btn.height)/2),btn.on("pointerover",(function(pointer,target){this.hoverSound.play(),this.game.showTooltip(btn.tooltip),null!=btn.locked&&0!=btn.locked||"text_white2"==btn.font||this.phaser.tweens.add({targets:[btn],alpha:.5,ease:"Cubic.Out",duration:200})}),this),btn.on("pointerout",(function(pointer,target){this.game.hideTooltip(),null!=btn.locked&&0!=btn.locked||this.phaser.tweens.add({targets:[btn],alpha:1,ease:"Cubic.Out",duration:200})}),this),btn.on("pointerdown",(function(pointer,target){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(null!=btn.locked&&0!=btn.locked||this.phaser.tweens.add({targets:[btn],alpha:1,ease:"Cubic.Out",duration:200}))}),this)}),_defineProperty(this,"center",obj=>{obj.x=GAME_WIDTH/2-obj.width/2}),_defineProperty(this,"show",()=>{this.loadState(),this.entry(),this.updateLanguage(),this.enableMenuInteractive(),this.game.curretMusic=this.game.music3,this.game.curretMusic.play({delay:.5})}),_defineProperty(this,"hide",()=>{this.phaser.input.enabled=!1,this.game.showCurtain(1,LAYER_GUI_MAIN+1),this.game.isInOptions=!1,this.game.hideTooltip(),this.container.visible=!1,this.game.update(0,0),this.container.visible=!0,this.phaser.tweens.add({targets:[this.containerDifficulty],y:GAME_HEIGHT,alpha:0,duration:500,ease:"Cubic.Out",onComplete:function(){this.containerDifficulty.visible=!1},onCompleteScope:this}),this.phaser.tweens.add({targets:this.container,alpha:0,ease:"Cubic.InOut",duration:500,onComplete:function(){this.container.visible=!1},onCompleteScope:this}),setTimeout(this.game.hideCurtainSlow,1e3)}),_defineProperty(this,"addLogo",(array,name)=>{array.push(this.phaser.add.image(0,0,"logos",name));var tex=this.phaser.textures.get("logos");array[array.length-1].x=tex.frames[name].customData.spriteSourceSize.x,array[array.length-1].y=tex.frames[name].customData.spriteSourceSize.y,array[array.length-1].link_en=tex.frames[name].customData.url.en,array[array.length-1].link_pl=tex.frames[name].customData.url.pl,array[array.length-1].setOrigin(0),this.containerCredits.add(array[array.length-1]),null!=array[array.length-1].link_en&&(array[array.length-1].on("pointerover",(function(pointer){this.alpha=.75,self.hoverSound.play()})),array[array.length-1].on("pointerout",(function(pointer){this.alpha=1})),array[array.length-1].on("pointerup",(function(pointer){self.clickSound.play(),"en"==self.game.language&&openExternalLink(this.link_en),"pl"==self.game.language&&openExternalLink(this.link_pl)})),array[array.length-1].setInteractive({cursor:"pointer"}),array[array.length-1].input.useHandCursor=!0)}),_defineProperty(this,"engClick",pointer=>{1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(this.game.options.language="en",this.game.options.operate(),this.game.hand.positionCards(),this.clickSound.play())}),_defineProperty(this,"plClick",pointer=>{1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(this.game.options.language="pl",this.game.options.operate(),this.game.hand.positionCards(),this.clickSound.play())}),this.game=g,this.phaser=this.game.phaser;var self=this;this.open=!1,this.constructionComplete=this.phaser.sound.add("complete"),this.clickSound=this.phaser.sound.add("click"),this.hoverSound=this.phaser.sound.add("ui_hover"),this.denySound=this.phaser.sound.add("deny"),this.background=this.phaser.add.image(0,0,"title"),this.credits=this.phaser.add.image(0,0,"credits"),this.victory=this.phaser.add.image(0,0,"victory"),this.victory2=this.phaser.add.image(0,0,"victory2"),this.gameover=this.phaser.add.image(0,0,"gameover"),this.difficulty=this.phaser.add.image(0,0,"difficulty"),this.achievements=this.phaser.add.image(0,0,"achievements"),this.ach_coins=this.phaser.add.image(0,0,"achievs","coins_0"),this.ach_fortune=this.phaser.add.image(0,0,"achievs","fortune_0"),this.ach_hermans=this.phaser.add.image(0,0,"achievs","hermans_0"),this.ach_requests=this.phaser.add.image(0,0,"achievs","requests_0"),this.ach_s1=this.phaser.add.image(0,0,"achievs","s1_0"),this.ach_s2=this.phaser.add.image(0,0,"achievs","s2_0"),this.ach_s3=this.phaser.add.image(0,0,"achievs","s3_0"),this.ach_time=this.phaser.add.image(0,0,"achievs","time_0"),this.ach_trynka=this.phaser.add.image(0,0,"achievs","trynka_0"),this.ach_well=this.phaser.add.image(0,0,"achievs","well_0"),this.ach_hermans.x=60,this.ach_hermans.y=40,this.ach_trynka.x=60,this.ach_trynka.y=100,this.ach_s1.x=60,this.ach_s1.y=160,this.ach_s2.x=60,this.ach_s2.y=220,this.ach_s3.x=60,this.ach_s3.y=280,this.ach_coins.x=345,this.ach_coins.y=40,this.ach_fortune.x=345,this.ach_fortune.y=100,this.ach_requests.x=345,this.ach_requests.y=160,this.ach_time.x=345,this.ach_time.y=220,this.ach_well.x=345,this.ach_well.y=280,this.ach_hermans_txt=this.phaser.add.bitmapText(1,1,"text_gray","HERMANS DITCH"),this.ach_trynka_txt=this.phaser.add.bitmapText(1,1,"text_gray","TRYNKA CANAL"),this.ach_s1_txt=this.phaser.add.bitmapText(1,1,"text_gray","NORMAL MODE"),this.ach_s2_txt=this.phaser.add.bitmapText(1,1,"text_gray","HARD MODE"),this.ach_s3_txt=this.phaser.add.bitmapText(1,1,"text_gray","IMPOSSIBLE MODE"),this.ach_coins_txt=this.phaser.add.bitmapText(1,1,"text_gray","COLLECT COINS"),this.ach_fortune_txt=this.phaser.add.bitmapText(1,1,"text_gray","FORTUNE"),this.ach_requests_txt=this.phaser.add.bitmapText(1,1,"text_gray","REQUESTS"),this.ach_time_txt=this.phaser.add.bitmapText(1,1,"text_gray","TIME"),this.ach_well_txt=this.phaser.add.bitmapText(1,1,"text_gray","NO WELLS");var txtShift=25,txtShiftY=-22;this.ach_hermans_txt.x=85,this.ach_hermans_txt.y=18,this.ach_hermans_txt.setFont("text_gray"),this.ach_trynka_txt.x=85,this.ach_trynka_txt.y=78,this.ach_s1_txt.x=85,this.ach_s1_txt.y=138,this.ach_s2_txt.x=85,this.ach_s2_txt.y=198,this.ach_s3_txt.x=85,this.ach_s3_txt.y=258,this.ach_coins_txt.x=370,this.ach_coins_txt.y=18,this.ach_fortune_txt.x=370,this.ach_fortune_txt.y=78,this.ach_requests_txt.x=370,this.ach_requests_txt.y=138,this.ach_time_txt.x=370,this.ach_time_txt.y=198,this.ach_well_txt.x=370,this.ach_well_txt.y=258,this.clickSound=this.phaser.sound.add("click"),this.hoverSound=this.phaser.sound.add("ui_hover"),this.containerGameOver=this.phaser.add.container(0,0,this.gameover),this.containerVictory=this.phaser.add.container(0,0,this.victory),this.containerVictory.add(this.victory2),this.containerCredits=this.phaser.add.container(0,0,this.credits),this.containerDifficulty=this.phaser.add.container(0,0,this.difficulty),this.containerAchievements=this.phaser.add.container(0,0,this.achievements),this.logo=[],this.addLogo(this.logo,"logo_archeo"),this.addLogo(this.logo,"logo_ministerstwo"),this.addLogo(this.logo,"logo_nsc"),this.addLogo(this.logo,"logo_ug"),this.addLogo(this.logo,"logo_whug"),this.addLogo(this.logo,"logo_wk"),this.addLogo(this.logo,"logo_muzeum"),this.addLogo(this.logo,"logo_g"),this.initBackground(this.background),this.initBackground(this.credits),this.initBackground(this.victory),this.initBackground(this.victory2),this.initBackground(this.gameover),this.initBackground(this.difficulty),this.initBackground(this.achievements),this.btnBack=new Button(this.game,"button_back","button_back_down","gui",this.backToMain),this.btnBack.setPosition(50,330),this.btnBack.tooltip="back_btn_main",this.text_screen=this.phaser.add.bitmapText(1,1,"text_black","..."),this.text_screen.visible=!1,this.diffHeader=this.phaser.add.bitmapText(1,1,"text_brown","..."),this.diffHeader.y=190,this.btnEasy=this.phaser.add.bitmapText(1,1,"text_black","Easy"),this.btnEasy.y=210,this.btnEasy.tooltip="btn_dificulty_easy",this.btnNormal=this.phaser.add.bitmapText(1,1,"text_black","Normal"),this.btnNormal.y=230,this.btnNormal.tooltip="btn_dificulty_normal",this.btnHard=this.phaser.add.bitmapText(1,1,"text_black","Hard"),this.btnHard.y=250,this.btnHard.tooltip="btn_dificulty_hard",this.btnHard2=this.phaser.add.bitmapText(1,1,"text_black","Impossible"),this.btnHard2.y=270,this.btnHard2.tooltip="btn_dificulty_hard2",this.btnDiffBack=this.phaser.add.bitmapText(1,1,"text_black","Back"),this.btnDiffBack.y=305,this.btnDiffBack.tooltip="btn_dificulty_back",this.btnEasy.on("pointerup",(function(pointer){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(self.game.difficulty=1,self.restartGame(),self.clickSound.play())})),this.btnNormal.on("pointerup",(function(pointer){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(self.game.difficulty=2,self.restartGame(),self.clickSound.play())})),this.btnHard.on("pointerup",(function(pointer){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(0==self.game.normalComplete?self.denySound.play():(self.game.difficulty=3,self.yesDisableTut(),self.restartGame(),self.clickSound.play()))})),this.btnHard2.on("pointerup",(function(pointer){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(0==self.game.hardComplete?self.denySound.play():(self.game.difficulty=4,self.yesDisableTut(),self.restartGame(),self.clickSound.play()))})),this.btnDiffBack.on("pointerup",(function(pointer){1!=pointer.rightButtonDown()&&1!=pointer.middleButtonDown()&&1!=pointer.backButtonDown()&&1!=pointer.forwardButtonDown()&&(self.backToMain2(),self.clickSound.play())})),this.containerDifficulty.add([this.btnEasy,this.btnNormal,this.btnHard,this.btnHard2,this.btnDiffBack,this.diffHeader]),this.containerDifficulty.visible=!1,this.containerDifficulty.y=GAME_HEIGHT,this.containerAchievements.add([this.ach_coins,this.ach_fortune,this.ach_hermans,this.ach_requests,this.ach_s1,this.ach_s2,this.ach_s3,this.ach_time,this.ach_trynka,this.ach_well]),this.containerAchievements.add([this.ach_coins_txt,this.ach_fortune_txt,this.ach_hermans_txt,this.ach_requests_txt,this.ach_s1_txt,this.ach_s2_txt,this.ach_s3_txt,this.ach_time_txt,this.ach_trynka_txt,this.ach_well_txt]),this.containerAchievements.add(this.btnBack.button),this.containerAchievements.add(this.btnBack.hover),this.btnBack.setVisible(!0),this.containerAchievements.y=0,this.containerAchievements.visible=!1,this.containerAchievements.alpha=0,this.containerAchievements.y=-GAME_HEIGHT,this.btnNewGame=new Button(this.game,"newgame1_en","newgame2_en","menu",this.newGameClick),this.btnNewGame.autoPosition(),this.btnLoad=new Button(this.game,"continue1_en","continue2_en","menu",this.continueClick),this.btnLoad.autoPosition(),this.btnAchievements=new Button(this.game,"achievements1_en","achievements2_en","menu",this.achievementsClick),this.btnAchievements.autoPosition(),this.btnOptions=new Button(this.game,"options1_en","options2_en","menu",this.optionsClick),this.btnOptions.autoPosition(),this.btnCredits=new Button(this.game,"credits1_en","credits2_en","menu",this.creditsClick),this.btnCredits.autoPosition(),this.btnLEn=new Button(this.game,"en0","en2","lang",this.engClick),this.btnLEn.autoPosition(),this.btnLPl=new Button(this.game,"pl0","pl2","lang",this.plClick),this.btnLPl.autoPosition(),this.versionTxt=this.phaser.add.bitmapText(2,GAME_HEIGHT-12,"text_white","v."+GAME_VERSION),this.text_privacy=this.phaser.add.bitmapText(GAME_WIDTH-5,1,"text_white2","..."),this.text_privacy.setOrigin(1,0),this.text_privacy.alpha=.5,this.text_privacy.setInteractive({cursor:"pointer"}),this.text_privacy.input.useHandCursor=!0,this.text_privacy.input.hitArea.setSize(100,25),this.text_privacy.input.hitArea.setPosition(0,-10),this.text_privacy.on("pointerdown",privacyClick),this.container=this.phaser.add.container(0,0,this.background),this.container.add(this.btnNewGame.getContent()),this.container.add(this.btnLoad.getContent()),this.container.add(this.btnOptions.getContent()),this.container.add(this.btnAchievements.getContent()),this.container.add(this.btnCredits.getContent()),this.container.add(this.versionTxt),this.container.add(this.btnLEn.getContent()),this.container.add(this.btnLPl.getContent()),this.container.add(this.text_privacy),this.container.setDepth(LAYER_GUI_MAIN),this.containerCredits.visible=!1,this.containerCredits.alpha=0,this.containerGameOver.visible=!1,this.containerGameOver.alpha=0,this.containerVictory.visible=!1,this.containerVictory.alpha=0,this.credits_txt=[];for(var i=1;i<=7;i++){var sec=0;i>4&&(sec=1),this.credits_txt.push(this.phaser.add.bitmapText(1,1,"text_black","...")),this.credits_txt[this.credits_txt.length-1].text=getString(this.game.language,"credits","credits_"+i,"string"),this.credits_txt[this.credits_txt.length-1].x=GAME_WIDTH-10-250+250*sec,this.credits_txt[this.credits_txt.length-1].setMaxWidth(230),this.credits_txt[this.credits_txt.length-1].y=5,this.credits_txt.length-1>0&&5!=i&&(this.credits_txt[this.credits_txt.length-1].y+=this.credits_txt[this.credits_txt.length-2].y+this.credits_txt[this.credits_txt.length-2].height),this.credits_txt[this.credits_txt.length-1].setOrigin(1,0),this.credits_txt[this.credits_txt.length-1].setRightAlign(),this.containerCredits.add([this.credits_txt[this.credits_txt.length-1]])}this.containerCredits.setDepth(LAYER_GUI_MAIN+10),this.containerGameOver.setDepth(LAYER_GUI_MAIN+20),this.containerVictory.setDepth(LAYER_GUI_MAIN+20),this.containerDifficulty.setDepth(LAYER_GUI_MAIN+10),this.containerAchievements.setDepth(LAYER_GUI_MAIN+10),this.btnCredits.tooltip="btn_credits",this.btnNewGame.tooltip="btn_new_game",this.btnLoad.tooltip="btn_main_continue",this.btnOptions.tooltip="options",this.btnAchievements.tooltip="btn_achievements",this.updateLanguage(),this.show(),ng&&this.game.syncMedals()}}